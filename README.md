# Stickjaw

![Stickjaw logo](https://xakplant.ru/wp-content/uploads/2018/08/xakpl_stickjaw1.png)

Stickjaw — это маленькая JS библиотека для управления пропорциями блоков относительно друг-друга. Благодаря the Stickjaw вы можете делать ширину блока равную высоте и обратно, задавать пропорции или делать размер относительно другого блока. Если вы хоть раз задавались целью сделать какой-то html-блок по высоте или ширине другого или сделать высоту и ширину блока одинаковой то вы знаете что не всегда это удаётся и приходиться потратить много времени на это. (javascript-library for controlling block sizes, their proportionality).

[Документация и примеры](https://xakplant.ru/stickjaw/)

## Установка и инициализация

Скачайте Stickjaw в папку с вашим проектом и подключите в футере

Далее создайте новый скрипт после подключения Stickjaw и объявите объект с опциями

```JS
<script>
    var SJ_setiings = {
                options: {
                    hlw: true, // Высота как ширина
                    wlh: true, // Ширина как высота
                    hlt: true, // Высотка как у другого блока
                    wlt: true, // Ширина как у другого блока
                    alo: true, // Высота у всех блоков родителя одинаковая
                },
                settings: {
                    windowResize: true, // Выполнять заново при изменении экрана
                    writeHystory: true // Писать историю
                }
            }
    var sj = new SJ(SJ_setiings);
</script>
```

Вы можете не объявлять объект SJ_settings и заместо предыдущего вызова воспользоваться этим


```JS
<script>
    var sj = new SJ();
</script>
```

Будьте внимательны. При таком вызове Stickjaw не реагирует на изменение размера экрана. Если вы, всё же хотите чтобы Stickjaw срабатывал на изменение экрана то используйте такой вызов
 ```JS
 var sj = new SJ({
                settings: {
                    windowResize: true
                }
            });
```

## Использование

Использовать Stickjaw просто. Нужно лишь добавить соответствующий атрибут

### Высота как ширина
Чтобы сделать высота блока равной его ширине нужно добавить атрибут:

> data-proportion-h="1"

```
<div data-proportion-h="1">Ваш контент</div>
```
Если вы хотите сделать так, чтобы ваш блок был равен ширина * 2 то просто измениет значение атрибута на 2
```
<div data-proportion-h="2">Ваш контент</div>
```

### Ширина как высота

Чтобы сделать ширину блока равную его высторе добавьте атрибут к вашему блоку.

> data-proportion-w="1"

```
<div data-proportion-w="1">Ваш контент</div>
```

Если вы хотите сделать так, чтобы ваш блок был равен высота * 2 то просто измениет значение атрибута на 2

```
<div data-proportion-w="2">Ваш контент</div>
```

### Сделать высоту как у другого блока

Для этого вам нужно задать идентификатор элемента относительно которого вы хотите установить высоту вашего болока. После к вашему блоку нужно добавить атрибуты

> data-proportion-targer-h="1" data-proportion-target="targetID"

targetID - это идентификатор элемента относительно которого вы хотите установить высоту.

Пример

```HTML

<div data-proportion-targer-h="1" data-proportion-target="targetID" style="width:120px; background:#333;"></div>

<div id="targetID" height="100px"></div><!-- Блок относительно которого мы выставляем высоту -->

```

### Сделать ширину как у другого блока

Для этого вам нужно задать идентификатор элемента относительно которого вы хотите установить ширину вашего болока. После к вашему блоку нужно добавить атрибуты

> data-proportion-targer-w="1" data-proportion-target="targetID"

targetID - это идентификатор элемента относительно которого вы хотите установить высоту.

Пример

```HTML

<div data-proportion-targer-w="1" data-proportion-target="targetID" style="height:120px; background:#333;"></div>

<div id="targetID" width="100px"></div><!-- Блок относительно которого мы выставляем ширину -->

```

#### Раздельные целевые елементы у высоты и ширины.

Если вы будете использовать 
>data-proportion-targer-w="1" data-proportion-targer-w="1" data-proportion-target="targetID"

то элемент будет тех же размеров что и targetID. Но чтоже делать если высота должна равняться на один елемент, а ширина на другой?
Используйте эти селекторы для ширины:
>data-proportion-targer-ow="1" data-proportion-target-ow="targetIdOW"

А для высоты используйте:
>data-proportion-targer-oh="1" data-proportion-target-oh="targetIdOH"



### Сделать высоту всех элементов одинаковой

Stickjaw умеет делать одинаковую высоту всех блоков в у родителя одинаковой. Чтобы это сделать нужно у родителя в атрибутах указа:

В случает если "дети" блоки не имееют вложенности
>data-parent-alo="default"

Пример

```HTML

<div data-parent-alo="default">
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
</div>


```

Если дети имеют много уровней вложенности нужно указать цепочку селекторов после родителя включая селекторы детей. 

Пример

```HTML
<div class="row" data-parent-alo=".col-lg-6 .card">
    <div class="col-lg-6">
        <div class="card">content 1</div>
    </div>
    <div class="col-lg-6">
        <div class="card">content 2</div>
    </div>
    <div class="col-lg-6">
        <div class="card">content 3</div>
    </div>
</div>
```
>data-parent-alo="цепочка селекторов после родителя включая селектор ребёнка"

## Очерёдность выполнения инструкций в Stickjaw

В Stickjaw есть порядок исполнения инструкций, следовательно размеры блоков будут исполняться в определённом порядке.
```HTML
1. hlw //Высота как ширина
2. wlh // Ширина как высота
3. hlt // Высота у целевого элемента (id цели такое же как для ширины)
4. wlt // Ширина у целевого элемента (id цели такое же как для высоты)
5. ohlt // Высота у целевого элемента (id цели раздельно с шириной)
6. owlt // Ширина у целевого элемента (id цели раздельно с высотой)
7. alo // Все элементы как один 
```

Это накладывает определённые неудобства. Иногда нужно задать определённую очерёдность. Для этого есть метод SJ.loop();

### loop()

Этот метод принимает массив с объектами. Объекты имеют следующую структуру:

```HTML
{
  method: 'hlw',              // Метод который будем применять к элементу
  currentTarget: 'elemetId',  // Id елемента который будем преобразовывать
  proportion: 2,              // Пропорциональность 
  target: 'targetId'          // Id элемента на который будем "равняться" (необязательный для методов hlw и wlt)
}
```

#### Пример использования

```HTML
SJ.loop([{
    method: 'wlt',
    currentTarget: 'myCurTarget',
    proportion: 1,
    target: 'myTargetId'
}]);
```

Можно добавить сколько угодно элементов. При этом они будут выполняться по очереди. 

#### Доступные методы для .loop()

```html
hlw // Высота как ширина
wlh // Ширина как высота
hlt // Высота как у целевого элемента
wlt // Ширина как у целевого элемента
```

Метод .loop() весьма интересный. С помощью него вы например можете сделать progressbar. В этом случае id цели будет элемент родитель до которого растёт наш елемент.
Что-то типо того есть в файле demo.html

### История

В версии 0.4.0 появилась запись истории использования Stickjaw
Чтобы включить сохранение истории вы должны в объект settings добавить 

>writeHystory: true

#### Пример

```HTML
new SJ(
    settings: {
        windowResize: true, // Выполнять заново при изменении экрана
        writeHystory: true // Писать историю
    }
);

```


## PS

Очень надеюсь, что вам, пригодиться моя библиотека.